---
name: l2ls_dc
prefix: ""

mgmt:
  network: custom_mgmt
  ipv4-subnet: 172.100.100.0/24

topology:

  defaults:
    env:
      INTFTYPE: et
    kind: ceos

  kinds:
    ceos:
      image: arista/ceos:latest
    linux:
      image: ghcr.io/aristanetworks/aclabs/host-ubuntu:rev1.1

  nodes:
    SPINE_1:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.11
      binds:
        - sn/spine_1.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/SPINE_1.cfg
    SPINE_2:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.12
      binds:
        - sn/spine_2.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/SPINE_2.cfg
    LEAF_1A:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.13
      binds:
        - sn/leaf_1a.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/LEAF_1A.cfg
    LEAF_1B:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.14
      binds:
        - sn/leaf_1b.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/LEAF_1B.cfg
    LEAF_2A:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.15
      binds:
        - sn/leaf_2a.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/LEAF_2A.cfg
    LEAF_2B:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.16
      binds:
        - sn/leaf_2b.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/LEAF_2B.cfg
    HOST1:
      kind: linux
      mgmt-ipv4: 172.100.100.17
      env:
        IPV4: 10.10.10.101/24
        IPV6: 2001:db8:10:10::101/64
        STATIC_ROUTE: 10.0.0.0/8
        GW: 10.10.10.1
        UPLINK_MAC: 00:01:01:00:00:01
        TMODE: lacp or none
    HOST2:
      kind: linux
      mgmt-ipv4: 172.100.100.18
      env:
        IPV4: 10.10.10.101/24
        IPV6: 2001:db8:10:10::101/64
        STATIC_ROUTE: 10.0.0.0/8
        GW: 10.10.10.1
        UPLINK_MAC: 00:01:01:00:00:01
        TMODE: lacp or none

  links:
    - endpoints: [ "SPINE_1:eth1", "SPINE_2:eth1" ]
    - endpoints: [ "SPINE_1:eth2", "SPINE_2:eth2" ]
    - endpoints: [ "LEAF_1A:eth1", "LEAF_1B:eth1" ]
    - endpoints: [ "LEAF_1A:eth2", "LEAF_1B:eth2" ]
    - endpoints: [ "LEAF_2A:eth1", "LEAF_2B:eth1" ]
    - endpoints: [ "LEAF_2A:eth2", "LEAF_2B:eth2" ]
    - endpoints: [ "SPINE_1:eth3", "LEAF_1A:eth3" ]
    - endpoints: [ "SPINE_1:eth4", "LEAF_1B:eth3" ]
    - endpoints: [ "SPINE_1:eth5", "LEAF_2A:eth3" ]
    - endpoints: [ "SPINE_1:eth6", "LEAF_2B:eth3" ]
    - endpoints: [ "SPINE_2:eth3", "LEAF_1A:eth4" ]
    - endpoints: [ "SPINE_2:eth4", "LEAF_1B:eth4" ]
    - endpoints: [ "SPINE_2:eth5", "LEAF_2A:eth4" ]
    - endpoints: [ "SPINE_2:eth6", "LEAF_2B:eth4" ]
    - endpoints: [ "LEAF_1A:eth5", "HOST1:eth1" ]
    - endpoints: [ "LEAF_1B:eth5", "HOST1:eth2" ]
    - endpoints: [ "LEAF_2A:eth5", "HOST2:eth1" ]
    - endpoints: [ "LEAF_2B:eth5", "HOST2:eth2" ]
