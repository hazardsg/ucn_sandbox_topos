---
name: l2ls_dc
prefix: ""

mgmt:
  network: custom_mgmt
  ipv4-subnet: 172.100.100.0/24

topology:

  defaults:
    env:
      INTFTYPE: et
    kind: ceos

  kinds:
    ceos:
      image: arista/ceos:latest
    linux:
      image: ghcr.io/aristanetworks/aclabs/host-ubuntu:rev1.1

  nodes:
    spine_1:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.11
    spine_2:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.12
    leaf_1a:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.13
    leaf_1b:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.14
    leaf_2a:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.15
    leaf_2b:
      kind: arista_ceos
      image: arista/ceos:latest
      mgmt-ipv4: 172.100.100.16
    host1:
      kind: linux
      mgmt-ipv4: 172.100.100.17
      env:
        IPV4: 10.10.10.101/24
        IPV6: 2001:db8:10:10::101/64
        STATIC_ROUTE: 10.0.0.0/8
        GW: 10.10.10.1
        UPLINK_MAC: 00:01:01:00:00:01
        TMODE: lacp or none
    host2:
      kind: linux
      mgmt-ipv4: 172.100.100.18
      env:
        IPV4: 10.10.10.101/24
        IPV6: 2001:db8:10:10::101/64
        STATIC_ROUTE: 10.0.0.0/8
        GW: 10.10.10.1
        UPLINK_MAC: 00:01:01:00:00:01
        TMODE: lacp or none

  links:
    - endpoints: [ "spine_1:eth1", "spine_2:eth1" ]
    - endpoints: [ "spine_1:eth2", "spine_2:eth2" ]
    - endpoints: [ "leaf_1a:eth1", "leaf_1b:eth1" ]
    - endpoints: [ "leaf_1a:eth2", "leaf_1b:eth2" ]
    - endpoints: [ "leaf_2a:eth1", "leaf_2b:eth1" ]
    - endpoints: [ "leaf_2a:eth2", "leaf_2b:eth2" ]
    - endpoints: [ "spine_1:eth3", "leaf_1a:eth3" ]
    - endpoints: [ "spine_1:eth4", "leaf_1b:eth3" ]
    - endpoints: [ "spine_1:eth5", "leaf_2a:eth3" ]
    - endpoints: [ "spine_1:eth6", "leaf_2b:eth3" ]
    - endpoints: [ "spine_2:eth3", "leaf_1a:eth4" ]
    - endpoints: [ "spine_2:eth4", "leaf_1b:eth4" ]
    - endpoints: [ "spine_2:eth5", "leaf_2a:eth4" ]
    - endpoints: [ "spine_2:eth6", "leaf_2b:eth4" ]
    - endpoints: [ "leaf_1a:eth5", "host1:eth1" ]
    - endpoints: [ "leaf_1b:eth5", "host1:eth2" ]
    - endpoints: [ "leaf_2a:eth5", "host2:eth1" ]
    - endpoints: [ "leaf_2b:eth5", "host2:eth2" ]
